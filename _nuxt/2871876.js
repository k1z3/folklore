(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{417:function(_,v,t){"use strict";t.r(v);var e=t(1).a.extend({}),l=t(12),component=Object(l.a)(e,(function(){var _=this,v=_.$createElement;_._self._c;return _._m(0)}),[function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("div",{staticClass:"container"},[t("h1",[_._v("A-FrameとAR.jsをNuxtで動かす")]),_._v(" "),t("div",{staticClass:"update-date mb"},[_._v("# 更新日: 2021年6月3日(木)")]),_._v(" "),t("div",{staticClass:"attention-box"},[t("div",{staticClass:"attention-box-title"},[_._v("A-Frame での制作中止について")]),_._v("\n    諸事情により、AR制作は ”A-Frame” から ”Three.js” に切り替えることになりました。"),t("br"),_._v("\n    そのため A-Frame に関する記事は一部を残し、デモページは削除します。\n  ")]),_._v(" "),t("p",{staticClass:"mb"},[_._v("NuxtでA-FrameとAR.jsが使えるように準備していきます。少しクセがあります。")]),_._v(" "),t("h2",[_._v("下準備")]),_._v(" "),t("h3",[_._v("nuxt.config.jsに設定を追記する")]),_._v(" "),t("p",{staticClass:"mb"},[_._v("nuxt.config.js に AR.js を使うための設定を追加します。")]),_._v(" "),t("p",[_._v("”head”内の”script”に”A-Frame”と”AR.js”がある URL を追加します。")]),_._v(" "),t("code",[t("ol",{staticClass:"mb"},[t("li",[_._v("export default {")]),_._v(" "),t("li",[_._v("  head: {")]),_._v(" "),t("li"),_._v(" "),t("li",[_._v("    〜〜〜")]),_._v(" "),t("li"),_._v(" "),t("li",[_._v("    script: [")]),_._v(" "),t("li",[_._v("      // A-Frame 読み込み")]),_._v(" "),t("li",{staticStyle:{"background-color":"#883"}},[_._v('      {src: "https://aframe.io/releases/1.1.0/aframe.min.js"},')]),_._v(" "),t("li",[_._v("      // AR.js 読み込み")]),_._v(" "),t("li",{staticStyle:{"background-color":"#883"}},[_._v('      {src: "https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"},')]),_._v(" "),t("li",[_._v("    ],")]),_._v(" "),t("li",[_._v("  },")]),_._v(" "),t("li"),_._v(" "),t("li",[_._v("  〜〜〜")]),_._v(" "),t("li"),_._v(" "),t("li",[_._v("}")])])]),_._v(" "),t("p",{staticClass:"mb"},[_._v("pages単位で読み込もうとすると、うまくモジュールが認識されず使うことができません。")]),_._v(" "),t("p",{staticClass:"mb"},[_._v("ARを利用していないページでも読み込まれてしまうのが難点ですが、これ以外の解決策がまだ見つかってません。")]),_._v(" "),t("h3",[_._v("A-Frameまでの要素の高さを”100%”にする")]),_._v(" "),t("p",{staticClass:"mb"},[_._v("A-FrameでAR.jsを利用するには、<a-frame>タグを利用することになります。")]),_._v(" "),t("p",{staticClass:"mb"},[_._v("そこまでの要素について高さの記述がないとAR上でオブジェクトが表示されないため、<a-frame>までの要素については全て高さを設定する必要があります。")]),_._v(" "),t("p",[_._v("例えば、このような構造の場合、")]),_._v(" "),t("code",[t("ol",{staticClass:"mb"},[t("li",[_._v("html")]),_._v(" "),t("li",[_._v("└─body")]),_._v(" "),t("li",[_._v(" └─div#__nuxt")]),_._v(" "),t("li",[_._v("  └─div#__layout")]),_._v(" "),t("li",[_._v("   └─div.content")]),_._v(" "),t("li",[_._v("    └─a-frame")])])]),_._v(" "),t("p",[_._v("CSSを使ってこのように書くことができます。")]),_._v(" "),t("code",[t("ol",{staticClass:"mb"},[t("li",[_._v("style {")]),_._v(" "),t("li",[_._v("  body, #__nuxt , #__layout, .content {")]),_._v(" "),t("li",[_._v("    height: 100%;")]),_._v(" "),t("li",[_._v("  }")]),_._v(" "),t("li",[_._v("}")])])]),_._v(" "),t("p",{staticClass:"mb"},[_._v("なお、”#__nuxt”と”#__layout”は、自動生成される要素です。適宜、要素を追加してください。")]),_._v(" "),t("p",{staticClass:"mb"},[_._v("これで最低限の準備が整いました！")]),_._v(" "),t("h2",[_._v("AR.jsを利用する")]),_._v(" "),t("p",{staticClass:"mb"},[_._v("利用方法をまとめていきます。実際にできたものを追記していきます。")]),_._v(" "),t("h3",[_._v("設定確認のためのデモ(easyTest)")]),_._v(" "),t("p",[_._v("いままでの設定がしっかりできているかどうか、以下のコードで確認できます。")]),_._v(" "),t("code",[t("ol",{staticClass:"mb"},[t("li",[_._v("<template>")]),_._v(" "),t("li",[_._v('  <div class="content">')]),_._v(" "),t("li",[_._v('  <a-scene embedded arjs="debugUIEnabled:true;">')]),_._v(" "),t("li"),_._v(" "),t("li",[_._v("    \x3c!-- マーカーを登録（デフォルトで設定されている「hiro」マーカー） --\x3e")]),_._v(" "),t("li",[_._v('    <a-marker preset="hiro">')]),_._v(" "),t("li",[_._v("      \x3c!-- マーカーの場所に立方体を置く --\x3e")]),_._v(" "),t("li",[_._v('      <a-box position="0 0 0" wireframe="true"></a-box>')]),_._v(" "),t("li",[_._v("    </a-marker>")]),_._v(" "),t("li"),_._v(" "),t("li",[_._v("    <a-entity camera")]),_._v(" "),t("li",[_._v('    cursor-visible="true"')]),_._v(" "),t("li",[_._v('    cursor-scale="2"')]),_._v(" "),t("li",[_._v('    cursor-color="#ff0000"')]),_._v(" "),t("li",[_._v('    cursor-opacity="0.5"></a-entity>')]),_._v(" "),t("li"),_._v(" "),t("li",[_._v("  </a-scene>")]),_._v(" "),t("li",[_._v("  </div>")]),_._v(" "),t("li",[_._v("</template>")])])]),_._v(" "),t("p",[_._v("Hiroマーカーを写すと、ワイヤーフレームの立方体が表示されると思います。"),t("br"),_._v("以下のデモと同じ結果になるはずです。")]),_._v(" "),t("div",{staticClass:"mb"},[t("a",{staticClass:"link-box-disable",attrs:{target:"_blank",rel:"noopener noreferrer"}},[_._v("easyTest デモ (廃止)")])]),_._v(" "),t("p",[_._v("そもそもHiroマーカーって何？って方は、あわせてこちらもどうぞー")]),_._v(" "),t("div",{staticClass:"mb"},[t("a",{staticClass:"link-box",attrs:{href:"ARdemo"}},[_._v("デモ置き場")])]),_._v(" "),t("h2",[_._v("参考文献")]),_._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://note.com/saifunakusu/n/n3988595305b9",target:"_blank",rel:"noopener noreferrer"}},[_._v("[Tips] AR.js + A-FrameをNuxt.jsで利用する - note")])])])])}],!1,null,null,null);v.default=component.exports}}]);