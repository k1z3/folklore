(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{329:function(e,t,r){"use strict";r.r(t),r.d(t,"AR",(function(){return l}));r(29),r(32);var n=r(280),o=r(286),l=function(){function e(){this.init(),this.animate()}var t=e.prototype;return t.init=function(){var e=this;this.clock=new n.l,this.scene=new n.ib;var t=new n.a(16777215,1);this.scene.add(t),this.camera=new n.i,this.scene.add(this.camera),this.totalTime=0,this.renderer=new n.ub({antialias:!0,alpha:!0}),this.renderer.setClearColor(new n.m("lightgrey"),0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",document.body.appendChild(this.renderer.domElement),this.arToolkitContext=new THREEx.ArToolkitContext({cameraParametersUrl:"/media-exp-ts/camera_para.dat"}),this.arToolkitContext.init((function(){e.camera.projectionMatrix.copy(e.arToolkitContext.getProjectionMatrix())}));var r=this;function l(){r.arToolkitSource.onResize(),r.arToolkitSource.copySizeTo(r.renderer.domElement),null!==r.arToolkitContext.arController&&r.arToolkitSource.copySizeTo(r.arToolkitContext.arController.canvas)}this.arToolkitSource=new THREEx.ArToolkitSource({sourceType:"webcam"}),this.arToolkitSource.init((function(){var e=0,t=setInterval((function(){++e>20&&clearInterval(t),l()}),100)})),window.addEventListener("resize",(function(){l()}));var c=new n.u;this.scene.add(c);new THREEx.ArMarkerControls(this.arToolkitContext,c,{type:"pattern",patternUrl:"/media-exp-ts/3Dmarker/hiro.patt",changeMatrixMode:"modelViewMatrix"});(new o.a).load("/media-exp-ts/3Dmodels/gltfTest/earth.glb",(function(data){var t=data.scene;t.name="model_with_cloth",t.scale.set(1,1,1),t.position.set(0,0,0);var r=data.animations;if(r&&r.length){e.mixer=new n.c(t);var o=r[0];e.mixer.clipAction(o).play()}c.add(t)})),this.renderer.outputEncoding=n.t},t.update=function(){this.arToolkitSource.ready&&this.arToolkitContext.update(this.arToolkitSource.domElement)},t.render=function(){this.renderer.render(this.scene,this.camera)},t.animate=function(){requestAnimationFrame(this.animate.bind(this));var e=this.clock.getDelta();this.totalTime+=e,this.update(),this.render(),null!=this.mixer&&this.mixer.update(e)},e}()}}]);