(window.webpackJsonp=window.webpackJsonp||[]).push([[19,15],{327:function(e,t,n){"use strict";n.r(t),n.d(t,"AR",(function(){return c}));n(29),n(32),n(51);var r=n(280),o=n(286),c=function(){function e(){this.init(),this.animate()}var t=e.prototype;return t.init=function(){var e=this;this.adjustMode=0,this.gearAction=[],this.clock=new r.l,this.scene=new r.ib;var t=(new r.ob).load("/media-exp-ts/envmap_white.jpg");this.scene.environment=t;var n=new r.ab(16777215,500);n.position.set(-5,0,0),this.scene.add(n),(n=new r.ab(16777215,500)).position.set(5,0,0),this.scene.add(n),(n=new r.ab(16777215,500)).position.set(0,0,8.65),this.scene.add(n),(n=new r.ab(16777215,500)).position.set(0,4.08,0),this.scene.add(n);(new r.o).load(["/media-exp-ts/envmap_white.jpg","/media-exp-ts/envmap_white.jpg","/media-exp-ts/envmap_white.jpg","/media-exp-ts/envmap_white.jpg","/media-exp-ts/envmap_white.jpg","/media-exp-ts/envmap_white.jpg"]).mapping=r.n,this.camera=new r.Z,this.scene.add(this.camera),this.totalTime=0,this.renderer=new r.ub({canvas:document.querySelector("#three-canvas"),antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(new r.m("lightgrey"),0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.outputEncoding=r.t,this.arToolkitContext=new THREEx.ArToolkitContext({cameraParametersUrl:"/media-exp-ts/camera_para.dat"}),this.arToolkitContext.init((function(){e.camera.projectionMatrix.copy(e.arToolkitContext.getProjectionMatrix())}));var c=this;function l(){c.arToolkitSource.onResize(),c.arToolkitSource.copySizeTo(c.renderer.domElement),null!==c.arToolkitContext.arController&&c.arToolkitSource.copySizeTo(c.arToolkitContext.arController.canvas)}this.arToolkitSource=new THREEx.ArToolkitSource({sourceType:"webcam"}),this.arToolkitSource.init((function(){var e=0,t=setInterval((function(){++e>20&&clearInterval(t),l()}),100)})),window.addEventListener("resize",(function(){l()}));var d=new r.u;this.scene.add(d);new THREEx.ArMarkerControls(this.arToolkitContext,d,{type:"pattern",patternUrl:"/media-exp-ts/3Dmarker/hiro.patt",changeMatrixMode:"modelViewMatrix"});function h(e){var t=parseInt(document.getElementById("three-canvas").style.width,10),n=parseInt(document.getElementById("three-canvas").style.height,10),o=c.getCanvasRelativePosition(e),l=1.08*(o.x/t*2-1),d=.8*(-o.y/n*2+1);l=Math.min(Math.max(l,-1),1),d=Math.min(Math.max(d,-1),1);var h=new r.rb(l,d),m=new r.gb;m.setFromCamera(h,c.camera);var v=m.intersectObjects(c.scene.children,!0);console.log(v),v.length>0&&c.gearAction.forEach((function(element){element.play()}))}(new o.a).load("/media-exp-ts/3Dmodels/eventTest/gear.glb",(function(data){var t=data.scene;t.name="gear_model",t.scale.set(.3,.3,.3),t.position.set(0,0,0);var n=data.animations;if(n&&n.length){e.mixer=new r.c(t);for(var i=0;i<n.length;i++){var o=n[i];c.gearAction.push(c.mixer.clipAction(o)),c.gearAction[i].clampWhenFinished=!0}}document.addEventListener("mousedown",h,!1),d.add(t)}))},t.getCanvasRelativePosition=function(e){var rect=document.getElementById("three-canvas").getBoundingClientRect(),t=parseInt(document.getElementById("three-canvas").style.width,10),n=parseInt(document.getElementById("three-canvas").style.height,10);return{x:(e.clientX-rect.left)*t/rect.width,y:(e.clientY-rect.top)*n/rect.height}},t.update=function(){this.arToolkitSource.ready&&this.arToolkitContext.update(this.arToolkitSource.domElement)},t.render=function(){this.renderer.render(this.scene,this.camera)},t.animate=function(){requestAnimationFrame(this.animate.bind(this));var e=this.clock.getDelta();this.totalTime+=e,this.update(),this.render(),null!=this.mixer&&this.mixer.update(e)},e}()},328:function(e,t,n){var content=n(380);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(31).default)("c43e7b98",content,!0,{sourceMap:!1})},379:function(e,t,n){"use strict";n(328)},380:function(e,t,n){var r=n(30)(!1);r.push([e.i,"html{width:100%;height:100%}body{overflow:hidden;margin:0}#col-canvas,#three-canvas{width:100%;height:100%}#col-canvas{position:absolute;top:0;left:0;z-index:1022}",""]),e.exports=r},410:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(327),c=r.a.extend({layout:"ar",data:function(){return{ar:void 0}},mounted:function(){this.ar=new o.AR}}),l=(n(379),n(12)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("canvas",{attrs:{id:"three-canvas"}}),e._v(" "),n("canvas",{attrs:{id:"col-canvas"}})])}],!1,null,null,null);t.default=component.exports}}]);