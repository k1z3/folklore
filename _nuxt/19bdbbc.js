(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{419:function(t,v,l){"use strict";l.r(v);var _=l(1).a.extend({}),e=l(12),component=Object(e.a)(_,(function(){var t=this,v=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,v=t.$createElement,l=t._self._c||v;return l("div",{staticClass:"container"},[l("h1",[t._v("外部デバイスでNuxt-appをデバッグする")]),t._v(" "),l("div",{staticClass:"update-date mb"},[t._v("# 更新日: 2021年5月20日(木)")]),t._v(" "),l("p",{staticClass:"mb"},[t._v("Nuxtアプリをスマホ等の外部デバイスからデバッグを行おうとするときに、いちいちビルドして外部サーバに配置するのは手間がかかります。")]),t._v(" "),l("p",{staticClass:"mb"},[t._v("外部のデバイスがローカル環境でもデバックできるようにするための手順をまとめます。")]),t._v(" "),l("p",{staticClass:"mb"},[t._v("なお、カメラ機能等を利用できるようするにはSSL化する必要があります。")]),t._v(" "),l("h2",[t._v("デバッグのための手順")]),t._v(" "),l("h3",[t._v("SSL化するための証明書を発行する")]),t._v(" "),l("p",{staticClass:"mb"},[t._v("SSL(https)化するために証明書を発行する必要があります。")]),t._v(" "),l("p",[t._v("macOS の場合は、標準搭載アプリの「キーチェンアクセス」から作成することができます。")]),t._v(" "),l("div",{staticClass:"mb"},[l("a",{staticClass:"link-box",attrs:{href:"https://mmtomitomimm.blogspot.com/2019/10/nuxtjssslhttps.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nuxt.jsでSSL(https)化する方法 - もぐもぐプログラミング")])]),t._v(" "),l("p",{staticClass:"mb"},[t._v("Windows の場合は、現在模索中です...")]),t._v(" "),l("p",{staticClass:"mb"},[t._v("証明書が発行できたら、nuxt.config.js と同じ階層に ”server.key” と ”server.crt” ファイルを配置します。")]),t._v(" "),l("h3",[t._v("nuxt.config.js を設定する")]),t._v(" "),l("p",[t._v("nuxt.config.js に外部から接続できるように以下を追加で記述します。")]),t._v(" "),l("code",[l("ol",{staticClass:"mb"},[l("li",{staticStyle:{"background-color":"#883"}},[t._v("import path from 'path'")]),t._v(" "),l("li",{staticStyle:{"background-color":"#883"}},[t._v("import fs from 'fs'")]),t._v(" "),l("li"),t._v(" "),l("li",[t._v("export default {")]),t._v(" "),l("li"),t._v(" "),l("li",[t._v("〜〜〜")]),t._v(" "),l("li"),t._v(" "),l("li",{staticStyle:{"background-color":"#883"}},[t._v("  server: {")]),t._v(" "),l("li",{staticStyle:{"background-color":"#883"}},[t._v("    port: 3000, ")]),t._v(" "),l("li",{staticStyle:{"background-color":"#883"}},[t._v("    host: '0.0.0.0',")]),t._v(" "),l("li",{staticStyle:{"background-color":"#883"}},[t._v("    https: {")]),t._v(" "),l("li",{staticStyle:{"background-color":"#883"}},[t._v("      key: fs.readFileSync(path.resolve(__dirname, 'server.key')),")]),t._v(" "),l("li",{staticStyle:{"background-color":"#883"}},[t._v("      cert: fs.readFileSync(path.resolve(__dirname, 'server.crt'))")]),t._v(" "),l("li",{staticStyle:{"background-color":"#883"}},[t._v("    }")]),t._v(" "),l("li",{staticStyle:{"background-color":"#883"}},[t._v("  }")]),t._v(" "),l("li",[t._v("}")])])]),t._v(" "),l("p",[t._v('この状態で”yarn dev"等により起動すると、https用のURLが発行されるかと思います。')]),t._v(" "),l("p",[t._v("これでスマホなどからデバッグできる状態になりました。")])])}],!1,null,null,null);v.default=component.exports}}]);